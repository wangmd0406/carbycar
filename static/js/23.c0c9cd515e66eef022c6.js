webpackJsonp([23],{Ab6W:function(t,e){},siiK:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"userInfos",components:{},data:function(){return{src:"http://img1.vued.vanthink.cn/vued0a233185b6027244f9d43e653227439a.png",sexs:["男","女"],sexTitle:"性别",sex:"",phoneNum:"",nickName:""}},methods:{updateImg:function(t){var e=this;console.log(1);var s=t.target.files[0],a=new FormData;a.append("headPictureFile",s,s.name),console.log(a.get("file")),this.$axios.post("app/updatePersonalData",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.$vux.toast.show({text:"修改成功",type:"success",position:"middle",isShowMask:!0,time:1500,width:"2.7rem"}),e.$axios.post("app/userc/queryUserCByUserId").then(function(t){e.$store.dispatch("changeUserInfoDetails",t.data.userc),console.log("userInfoDetails",e.$store.state.userInfoDetails)})})},imageuploaded:function(t){},saveInfo:function(){var t=this,e=this;this.$axios.post("app/updatePersonalData?sex="+this.sex).then(function(s){t.$vux.toast.show({text:"修改成功",type:"success",position:"middle",isShowMask:!0,time:1500,width:"2.7rem"}),e.$axios.post("app/userc/queryUserCByUserId").then(function(t){e.$store.dispatch("changeUserInfoDetails",t.data.userc)})})},userLogout:function(){localStorage.removeItem("userInfo");this.$store.dispatch("changeUserInfoDetails",{}),this.$router.push("/")}},mounted:function(){this.sex=this.$store.state.userInfoDetails.sex}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"vux-1px-b"},[s("x-header",{attrs:{"left-options":{backText:""}}},[t._v("基本信息")])],1),t._v(" "),s("div",{staticClass:"main vux-1px-b"},[s("div",{staticClass:"top"},[s("div",{staticClass:"img"},[s("input",{staticClass:"update-imgs",attrs:{name:"file",type:"file",accept:"image/png, image/gif, image/jpeg"},on:{change:t.updateImg}}),t._v(" "),s("img",{attrs:{src:t.$store.state.userInfoDetails.head_picture,alt:""}})])]),t._v(" "),s("group",[s("cell",{attrs:{value:t.$store.state.userInfoDetails.nickname,"is-link":"",link:"/updateNickname"}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v("昵称")])]),t._v(" "),s("popup-radio",{attrs:{title:t.sexTitle,options:t.sexs},on:{"on-hide":t.saveInfo},model:{value:t.sex,callback:function(e){t.sex=e},expression:"sex"}}),t._v(" "),s("cell",{attrs:{value:t.$store.state.userInfoDetails.mobile}},[s("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("手机号")])]),t._v(" "),s("cell",{attrs:{value:"◕◕◕◕◕◕","is-link":"",link:"/forgetPwd"}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v("密码")])])],1),t._v(" "),s("div",{staticClass:"infos"})],1),t._v(" "),s("div",{staticClass:"btn",on:{click:t.userLogout}},[t._v("退出登录")])])},staticRenderFns:[]};var o=s("C7Lr")(a,i,!1,function(t){s("Ab6W")},"data-v-5fcdc71c",null);e.default=o.exports}});