webpackJsonp([7],{OOBF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("WnnS"),i=(o.a,{name:"codeLogin",data:function(){return{logInfo:{logNum:"",code:""},codeStatus:{title:"获取验证码",class:"icon-r fl",showBtn:!0}}},components:{imgBtnsSlots:o.a},methods:{login:function(){var t=this;this.reg.checkMobile(this.logInfo.logNum)?""===this.logInfo.code?this.$vux.toast.show({text:"<br/>请输入验证码",type:"warn",position:"middle",isShowMask:!0,time:1500,width:"2.7rem"}):this.$axios.post("app/userCLogin?mobile="+this.logInfo.logNum+"&code="+this.logInfo.code).then(function(e){t.$vux.toast.show({text:"登陆成功",type:"success",position:"middle",isShowMask:!0,time:1500,width:"2.7rem"});var s=e.data.reslut;localStorage.setItem("userInfo",'{"carType":"'+s.carType+'","expire":"'+s.expire+'","mobile":"'+s.mobile+'","nickname":"'+s.nickname+'","role":"'+s.role+'","token":"'+s.token+'","username":"'+s.username+'"}'),t.$store.dispatch("changeUserInfo",s),t.$router.push("/")}):this.$vux.toast.show({text:"<br/>请检查手机号",type:"warn",position:"middle",isShowMask:!0,time:1500,width:"2.7rem"})},getCode:function(){var t=this;this.reg.checkMobile(this.logInfo.logNum)?this.$axios.get("app/reg_send_code?mobile="+this.logInfo.logNum).then(function(e){t.$vux.toast.show({text:"<br/>获取成功",type:"success",position:"middle",isShowMask:!0,time:1500,width:"2.7rem"}),t.codeStatus.showBtn=!1,t.codeStatus.class="icon-r fl disabled";var s=60,o=setInterval(function(){t.codeStatus.title=s+"s后重新获取",-1===--s&&(clearInterval(o),t.codeStatus.title="获取验证码",t.codeStatus.showBtn=!0,t.codeStatus.class="icon-r fl")},1e3)}):this.$vux.toast.show({text:"<br/>请检查手机号",type:"warn",position:"middle",isShowMask:!0,time:1500,width:"2.7rem"})}}}),n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"vux-1px-b"},[s("x-header",{attrs:{"left-options":{backText:""}}},[t._v("验证码登录")])],1),t._v(" "),s("div",{staticClass:"main"},[s("imgBtnsSlots",{on:{login:t.login}},[s("div",{staticClass:"slots"},[s("div",{staticClass:"inputs vux-1px-b"},[s("div",{staticClass:"icon fl"},[s("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),s("div",{staticClass:"input fl"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.logInfo.logNum,expression:"logInfo.logNum"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.logInfo.logNum},on:{input:function(e){e.target.composing||t.$set(t.logInfo,"logNum",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"inputs vux-1px-b"},[s("div",{staticClass:"icon fl"},[s("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),s("div",{staticClass:"input fl"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.logInfo.code,expression:"logInfo.code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.logInfo.code},on:{input:function(e){e.target.composing||t.$set(t.logInfo,"code",e.target.value)}}})]),t._v(" "),s("div",{class:t.codeStatus.class},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.codeStatus.showBtn,expression:"codeStatus.showBtn"}],on:{click:t.getCode}},[t._v(t._s(t.codeStatus.title))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.codeStatus.showBtn,expression:"!codeStatus.showBtn"}]},[t._v(t._s(t.codeStatus.title))])])])])])],1)])},staticRenderFns:[]};var a=s("C7Lr")(i,n,!1,function(t){s("pT9E")},"data-v-54a72512",null);e.default=a.exports},WHao:function(t,e,s){t.exports=s.p+"static/img/c_lo_head.0c95cc0.png"},WnnS:function(t,e,s){"use strict";var o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"main"},[t._m(0),t._v(" "),t._t("default"),t._v(" "),s("div",{staticClass:"btn"},[s("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.login(e)}}},[t._v("确认")])],1)],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img"},[e("img",{attrs:{src:s("WHao"),alt:""}})])}]};var i=s("C7Lr")({name:"imgBtnsSlots",methods:{login:function(){this.$emit("login")}}},o,!1,function(t){s("zDho")},"data-v-40e0542e",null);e.a=i.exports},pT9E:function(t,e){},zDho:function(t,e){}});