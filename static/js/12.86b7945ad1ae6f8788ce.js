webpackJsonp([12],{"4U9m":function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e={name:"maps",props:["points"],data:function(){return{center:{lng:0,lat:0},zoom:3,dotPosition:{}}},methods:{handler:function(t){t.BMap,t.map;this.center.lng=120.151359,this.center.lat=35.948063,this.zoom=16},moveend:function(t){var n=t.type,o=t.target;console.log(n,o)},locationSuccess:function(t){var n=t.point,o=t.AddressComponent,e=t.marker;console.log(n,o,e)},clickStore:function(t){this.$axios.post("app/shopc/shopList?page=1&limit=1&lon="+t.point.lng+"&lat="+t.point.lat).then(function(t){var n=t.data.shopInfoList;console.log(n)})}},mounted:function(){navigator.geolocation.getCurrentPosition(function(t){this.center.lat=t.coords.latitude,this.center.lng=t.coords.longitude,console.log("经度："+t.coords.longitude+"纬度："+t.coords.latitude)})}},s={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("baidu-map",{staticClass:"map",attrs:{center:this.center,zoom:this.zoom},on:{moveend:this.moveend,ready:this.handler}},[n("bm-point-collection",{attrs:{points:this.points,shape:"BMAP_POINT_SHAPE_STAR",color:"red",size:"BMAP_POINT_SIZE_SMALL"},on:{click:this.clickStore}})],1)],1)},staticRenderFns:[]};var i=o("C7Lr")(e,s,!1,function(t){o("RiKX")},"data-v-5c8a1c66",null).exports,a={name:"storeMaps",data:function(){return{points:[]}},components:{maps:i},methods:{getStoreList:function(){var t=this;this.$axios.post("app/shopc/shopList?page=1&limit=40&lon=120.151359&lat=35.948063").then(function(n){var o=n.data.shopInfoList;for(var e in o)t.points.push({lng:o[e].addressLon,lat:o[e].addressLat})})}},mounted:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.getStoreList()},1e3)})}},r={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{staticClass:"maps"},[n("maps",{attrs:{points:this.points}})],1)])},staticRenderFns:[]};var c=o("C7Lr")(a,r,!1,function(t){o("vnoT")},"data-v-02afd56e",null);n.default=c.exports},RiKX:function(t,n){},vnoT:function(t,n){}});